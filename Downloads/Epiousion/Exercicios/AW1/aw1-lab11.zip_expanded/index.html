<!DOCTYPE html>
<html>
    <head>
        <title>Geolocation com Google Maps</title>
        <meta charset="UTF-8">
        <!-- script do Google Maps --> 
        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script>
            function lePosicao() {
                //chame o código que faz o processamento da localização, passando
                // como função de tratamento a função "mostrarMapa"              
					navigator.geolocation.getCurrentPosition(mostrarMapa);				
            }
            function mostrarMapa(posicao) {
                //obtenha a latitude a partir do objeto posicao
                var latitude = posicao.coords.latitude;
                //obtenha a longitude a partir do objeto posicao
                var longitude = posicao.coords.longitude;
                
                var mensagem = "Sua posicao é: \n" + "Latitude : " + posicao.coords.latitude + "\nLongitude : " + posicao.coords.longitude;
                alert(mensagem);
                
                //codigo da API Google Maps
                var googleLatLng = new google.maps.LatLng(latitude, longitude);
                var opts = {
                    zoom: 15,
                    center: googleLatLng,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById("mapa"),opts);
                var marker = new google.maps.Marker({
                    position: googleLatLng, map: map, title: "Você está aqui!"
                });
            }
        </script>
    </head>
    <body>
        <h2>Mapa</h2>
        <div id="mapa" style="width: 400px; height: 400px; border: 1px solid black;"></div>
        <button onclick="lePosicao();">Mostrar posição</button>
    </body>
</html>